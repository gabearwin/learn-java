# HashMap
### 单线程扩容resize操作
![12](./pic/12.jpg)

### 多线程情况下
resize操作可能导致循环链表、数据丢失，这是线程不安全的根源。
注意它是把一个链表挨个重新插入到新申请的数组的链表中，所以才会出现插入5、9之后又要插入5。
而且在上面线程中已经丢失了元素11。

![13](./pic/13.jpg)

![14](./pic/14.jpg)

![15](./pic/15.jpg)

![16](./pic/16.jpg)

# ConcurrentHashMap
segment分段锁

![17](./pic/17.jpg)

![18](./pic/18.jpg)